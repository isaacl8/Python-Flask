<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Wall</title>
</head>

<body>
    <h1>Welcome {{session['user_name']}}!</h1>
    <h2>The Wall</h2>
    <h3>Post a new message</h3>
    <form action="/messages" method="post">
        <p>Content: <input type="text" name="content"></p>
        <input type="submit">
    </form>
    <!-- var to loop over in template(messages) cuz it is the key-->
    {% for message in messages: %}
    <h3>Message #{{message['id']}}</h3>
    <fieldset>
        <p>{{message[content]}}</p>
        <p>- {{message['first_name']}} {{message['last_name]']}}, on {{message['created_at']}}</p>
        <h3> Comments for this message:</h3>
        {{% for comments for this message %}}
            <p>{{% comment['content'] %}}</p>
            <p> - {{% comment['first_name'] %}}
                    {{comment['last_name'] on {{comment['created_at']}} }}</p>
        {% endfor %}
        <h3> Add a new comment:</h3>
        <form action="/comments" method="post">
            <input type="hidden" name="message_id" value="{{message['id']}}">
            <input type="text" name="content">
            <input type="submit" value="Add Comment">
        </form>
    </fieldset>
    {% endfor %}

</body>

</html>
